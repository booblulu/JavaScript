<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>首页</title>
</head>
<body>

    

    <p id="welcome">欢迎您 </p>
    <a href="register.html" id="register">注册</a>
    <a href="login.html" id="login">登录</a>
    <a href="updataPassword.html" id="newPassword">修改密码</a>
    <a href="../api/cancel.php" id="cancel">注销</a>

    <script>
        var register = document.getElementById("register");
        var login = document.getElementById("login");
        var cancel = document.getElementById("cancel");
        var welcome = document.getElementById("welcome");
        var newPassword = document.getElementById("newPassword");

        // 初次隐藏注销，欢迎界面
        cancel.style.display = "none";
        welcome.style.display = "none";
        newPassword.style.display = "none";

        // 获取登录状态
        if (document.cookie.indexOf("flag") != -1) {
            // 截取状态信息
            var flag = document.cookie.split(";")[1].split("=")[1];
            if (flag == 1) {
                register.style.display = "none";
                login.style.display = "none";
                cancel.style.display = "inline-block";
                welcome.style.display = "inline-block";
                newPassword.style.display = "inline-block";
                var loginName = decodeURI(document.cookie.split(";")[2].split("=")[1]);
                welcome.innerHTML = welcome.innerHTML+loginName;
            }                                                         
        } else {
            register.style.display = "inline-block";
            login.style.display = "inline-block";
            cancel.style.display = "none";
            welcome.style.display = "none";
            newPassword.style.display = "none";
            
        }
    </script>
</body>
</html>